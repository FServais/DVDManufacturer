\documentclass[a4paper,titlepage]{article}

%PACKAGES
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathrsfs}
\usepackage{fancyhdr}
\usepackage{lmodern}
\usepackage{graphicx}
\usepackage{geometry}
\usepackage{fancybox}
\usepackage{textcomp}
\usepackage{pdflscape}
\usepackage{svg}


%Symbole euro
\usepackage{eurosym}

%Listings : affichage code
\usepackage{listings}

\geometry{hmargin=2cm}


%Elements de la page de garde
\begin{document}


\begin{titlepage}

\begin{figure}
\centering
\includegraphics[width=5cm]{logo-ulg.png}
\end{figure}



\title{
\vspace{0.2cm}
\LARGE{\textbf{Project 2 - Firewalls}} \\ \textsc{Introduction to Computer Security}
\author{\textbf{Floriane Magera} \small{(S111295})\\\textbf{Fabrice Servais} \small{(S111093})}\\
\date{March 27, 2015}
\rule{15cm}{1.5pt}
}

\end{titlepage}

%DOCUMENT
\pagestyle{fancy}
\lhead{Project 2 : Firewalls}
\rhead{Introduction to Computer Security}

%Page de garde
\maketitle

\section{Zones}
\label{sec:Zones}

\begin{table}[h]
	\center
	\begin{tabular}{c|l}
		Zone & Elements\\
		\hline
		1 & web\\
		2 & SMTP\\
		3 & I2\\
		4 & PDNS\\
		5 & DHCP\_R2, U2\\
		6 & DHCP, SSH, HTTP, LDNS\\
		7 & RSYNC\\
		8 & DHCP\_R1, I1, U1\\
		9 & Internet\\
	\end{tabular}
	\caption{List of the zones and their components}
\end{table}


\section{Rules}
\label{sec:Rules}

% ========================== FW1 ==========================
\begin{landscape}
	\vspace*{\fill}
	\begin{table}[h]
		\center
		\begin{tabular}{c|c|cc|cc|ccl}
			Zone & Number & Source & Port & Dest & Port & Protocol & Action & \multicolumn{1}{c}{Comments}\\

			\hline
			\multicolumn{9}{l}{\textbf{Zone 4 : Incoming rules}}\\
			4 &  & Any & Any & 172.14.5.3 & 53 & UDP/TCP & Allow & DNS requests from anywhere\\
			4 &  & Any & Any & 172.14.5.3 & Any & Any & Deny & Not a DNS request\\

			\hline
			\multicolumn{9}{l}{\textbf{Zone 4 : Outgoing rules}}\\
			4 &  & 172.14.5.3 & Any & 208.67.222.222 & 53 & UDP/TCP & Allow & Ask other DNS\\
			4 &  & 172.14.5.3 & Any & Any & Any & Any & Deny & Not a DNS reply\\

			\hline
			\multicolumn{9}{l}{\textbf{Zone 1 : Incoming rules}}\\
			1 &  & Any & Any & 172.14.6.3 & 80 & TCP & Allow & HTTP (web server)\\
			1 &  & Any & Any & 172.14.6.3 & 443 & TCP & Allow & HTTPS (web server)\\
			1 &  & 172.14.5.2 & Any & 172.14.6.3 & 21 & TCP & Allow & FTP from network (FW2)\\
			1 &  & 172.14.6.2 & Any & 172.14.6.3 & 21 & TCP & Allow & FTP from network (FW3)\\
			1 &  & Any & Any & 172.14.6.3 & Any & Any & Deny & Deny otherwise\\

			\hline
			\multicolumn{9}{l}{\textbf{Zone 1 : Outgoing rules}}\\
			1 &  & 172.14.6.3 & 20 & Any & Any & TCP & Allow & FTP data\\
			1 &  & 172.14.6.3 & Any & Any & Any & Any & Deny & Deny otherwise\\

			\hline
			\multicolumn{9}{l}{\textbf{Zone 9 : Incoming rules}}\\
			9 &  & 172.14.5.3 & Any & 208.67.222.222 & 53 & UDP/TCP & Allow & PDNS populate its cache (see zone 4, outgoing)\\
			9 &  & 172.14.5.2 & Any & Internet & Any & TCP & Allow & From FW2\\
			9 &  & 172.14.7.2 & Any & Internet & 25, 587, 465 & TCP & Allow & SMTP to internet\\
			9 &  & 172.14.6.2 & Any & Internet & Any & TCP & Allow & I2 (through FW3) to internet\\
			9 &  & Any & Any & Internet & Any & Any & Deny & Deny otherwise\\

			\hline
			\multicolumn{9}{l}{\textbf{Zone 9 : Outgoing rules}}\\
			9 &  & Internet & Any & 172.14.5.3 & 53 & TCP/UDP & Allow & Internet searches in PDNS\\
			9 &  & Internet & Any & 172.14.5.2 & 3003 & TCP & Allow & Internet to SSH\\
			9 &  & Internet & Any & 172.14.6.3 & 80 & TCP & Allow & Visit website\\
			9 &  & Internet & Any & 172.14.7.2 & 25, 587, 465 & TCP & Allow & Internet to SMTP\\
			9 &  & Internet & Any & Any & Any & Deny & Deny otherwise


		\end{tabular}
		\caption{Firewall 1}
	\end{table}
	\vspace*{\fill}
\end{landscape}


% ========================== FW2 ==========================

At FW2 :
\begin{itemize}
	\item Port 3000 : correspond to the requests from 172.16.6.4 (HTTP, other than :80 and :443)
	\item Port 3001 : correspond to the requests from 172.16.5.2 (DHCP\_R2)
	\item Port 3002 : correspond to the requests from 172.16.6.2 (DHCP)
	\item Port 3003 : correspond to the requests from 172.16.6.3 (SSH)
	\item Port 3004 : correspond to the requests from 172.16.6.4:80 (HTTP)
	\item Port 3005 : correspond to the requests from 172.16.6.4:443 (HTTPS)
	\item Port 3006 : correspond to the requests from 172.16.6.5 (LDNS)
	\item Port 3007 : correspond to the requests from 172.16.9.2 (RSYNC)
	\item Port 3008 : correspond to the requests from 172.16.8.2 (DHCP\_R1)
	\item Port 3009 : correspond to the requests from 172.16.8.3 (I1)
	\item Port 3010 to 3260: correspond to the requests from 172.16.8.4...254 (U1)
	\item Port 3261 to 3514: correspond to the requests from 172.16.5.3...254 (U2)

\end{itemize}


% ========================== FW3 ==========================

At FW3 :
\begin{itemize}
	\item Port 3001 : correspond to the requests from 172.16.4.2:25 (I2)
	\item Port 3002 : correspond to the requests from 172.16.4.2:587 (I2)
	\item Port 3003 : correspond to the requests from 172.16.4.2:465 (I2)
\end{itemize}

\begin{landscape}
	\begin{table}[h]
		\centering
		%\small
		\begin{tabular}{c|c|cc|cc|ccl}
			Zone & Number & Source & Port & Dest & Port & Protocol & Action & \multicolumn{1}{c}{Comments}\\
			\hline
			\multicolumn{9}{l}{\textbf{Zone 3 : Incoming rules}}\\
			3 &  & 172.14.5.2 & 22 & 172.14.6.2 & 22 & TCP & Allow & SSH\\
			3 &  & 172.14.3.10 & 22 & 172.14.6.2 & 22 & TCP & Allow & SSH from Internet\\
			3 &  & 172.14.6.3 & 20 & 172.14.6.2 & Any & TCP & Allow & FTP (data)\\
			3 &  & Any & Any & 172.16.4.2 & Any & Any & Deny & Deny otherwise\\

			\hline
			\multicolumn{9}{l}{\textbf{Zone 3 : Outgoing rules}}\\
			3 &  & 172.16.4.2 & Any & 172.14.5.2 & 22 & TCP & Allow & SSH through FW2\\
			3 &  & 172.16.4.2 & Any & 172.14.5.2 & 80 & TCP & Allow & HTTP through FW2\\
			3 &  & 172.16.4.2 & Any & 172.14.5.2 & 443 & TCP & Allow & HTTPS through FW2\\
			3 &  & 172.16.4.2 & Any & 172.14.5.3 & 53 & UDP/TCP & Allow & (P)DNS\\
			3 &  & 172.16.4.2 & Any & 172.14.6.3 & 21/80 & TCP & Allow & Web\\
			3 &  & 172.16.4.2 & Any & 172.14.7.2 & 25/110/995 & TCP & Allow & SMTP\\
			3 &  & 172.16.4.2 & Any & Any & Any & Any & Deny & Deny otherwise\\

			\hline
			\multicolumn{9}{l}{\textbf{Zone 2 : Incoming rules}}\\
			2 &  & 172.14.5.2 & Any & 172.14.7.2 & 25/110/995 & TCP & Allow & SMTP from U2\\
			2 &  & 172.14.3.10 & Any & 172.14.7.2 & 25/110/995 & TCP & Allow & SMTP from Internet\\
			2 &  & 172.14.6.2 & Any & 172.14.7.2 & 25/110/995 & TCP & Allow & SMTP from I2\\
			2 &  & Any & Any & 172.14.7.2 & Any & Any & Deny & Deny otherwise\\

			\hline
			\multicolumn{9}{l}{\textbf{Zone 2 : Outgoing rules}}\\
			2 &  & 172.14.7.2 & Any & 172.14.5.2 & 25/110/995 & TCP & Allow & SMTP can send to U2\\
			2 &  & 172.14.7.2 & Any & 172.16.4.2 & 25/110/995 & TCP & Allow & SMTP can send to I2\\
			2 &  & 172.14.7.2 & Any & 172.14.5.3 & 53 & UDP/TCP & Allow & SMTP can ask to PDNS\\
			2 &  & 172.14.7.2 & Any & Any & Any & Any & Deny & Deny requests from SMTP\\

			\hline
			\multicolumn{9}{l}{\textbf{Zone 1 : Incoming rules}}\\
			1 &  & 172.14.6.2  & Any & 172.14.6.3 & 80 & TCP & Allow & HTTP (web server) from I2\\
			1 &  & 172.14.6.2  & Any & 172.14.6.3 & 443 & TCP & Allow & HTTPS (web server) from I2\\
			1 &  & 172.14.6.2 & Any & 172.14.6.3 & 21 & TCP & Allow & FTP from I2\\
			1 &  & Any & Any & 172.14.6.3 & Any & Any & Deny & Deny otherwise\\

			\hline
			\multicolumn{9}{l}{\textbf{Zone 1 : Outgoing rules}}\\
			1 &  & 172.14.6.3 & 20 & Any & Any & TCP & Allow & FTP (data)\\
			1 &  & 172.14.6.3 & Any & Any & Any & Any & Deny & Deny otherwise\\
			\multicolumn{9}{l}{\textbf{Default}}\\
			 &  & Any & Any & Any & Any & Any & Deny & LOG and drop\\
		\end{tabular}
		\caption{Firewall 3}
	\end{table}
	\vspace*{\fill}
\end{landscape}



% ========================== FW4 ==========================

\begin{landscape}
	\vspace*{\fill}
	\begin{table}[h]
		\center
		\begin{tabular}{c|c|cc|cc|ccl}
			Zone & Number & Source & Port & Dest & Port & Protocol & Action & \multicolumn{1}{c}{Comments}\\
			\hline
			\multicolumn{9}{l}{\textbf{Zone 7 : Incoming rules}}\\
			7 & 1 & 172.16.7.3 & 22 & 172.16.9.2 & 873 & TCP & Allow & SSH\\
			7 & 2 & 172.16.8.0 & Any & 172.16.9.2 & 873 & TCP & Allow & \\
			7 & 3 & Any & Any & Any & Any & Any & Deny & \\

			\hline
			\multicolumn{9}{l}{\textbf{Zone 8 : Incoming rules}}\\
			8 & 1 & 172.16.7.3 & 22 & 172.16.8.0 & 22 & TCP & Allow & SSH \\
			8 & 2 & 172.16.6.1 & 3009 & 172.16.8.3... & Any & TCP & Allow & FTP \\
			8 & 3 & Any & Any & Any & Any & Any & Deny & \\
			\hline
			\multicolumn{9}{l}{\textbf{Zone 8 : Outgoing rules}}\\
			8 & 1 & 172.16.8.2 & 68 & 172.16.7.2 & 67 & DHCP & Allow & \\
			8 & 2 & 172.16.8.3... & 80 & 172.16.7.4 & Any & TCP & Allow & HTTP \\
			8 & 3 & 172.16.8.3... & 443 & 172.16.7.4 & Any & TCP & Allow & HTTPS \\
			8 & 4 & 172.16.8.3... & 22 & 172.16.7.3 & Any & TCP & Allow & SSH \\
			8 & 5 & 172.16.8.3... & 873 & 172.16.9.2 & Any & TCP & Allow & RSYNC \\
			8 & 6 & 172.16.8.3... & 53 & 172.16.7.5 & Any & TCP & Allow & DNS (local) \\
			8 & 7 & 172.16.8.3... & 80 & 172.14.6.3 & Any & TCP & Allow & HTTP \\
			8 & 8 & 172.16.8.3... & 443 & 172.14.6.3 & Any & TCP & Allow & HTTPS \\
			8 & 9 & 172.16.8.3... & Any & 172.14.6.3 & 20 & TCP & Allow & FTP \\
			8 & 10 & Any & Any & Any & Any & Any & Deny & \\
			\hline

		\end{tabular}
		\caption{Firewall 4}
	\end{table}
	\vspace*{\fill}
\end{landscape}




\end{document}
